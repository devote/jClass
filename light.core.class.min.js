/*
 * light.core.class.min.js Library for JavaScript v0.5.5.2
 *
 * Copyright 2012-2013, Dmitrii Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/ - https://github.com/devote
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Update: 31-01-2013
 */
(function(r,D,u,v,E){function C(b,m){return function(){throw Error("'"+b+"' property is "+(m?"read":"write")+"-only");}}function j(){function b(){for(var h=F,k=0===+this,j=arguments,p=v,o=new q,t=j[2]||v,e=t||o,n=k?j[0]:{a:o},y=!k||j[1]===E||G!==E?G:j[1];h--;)"string"===typeof B[h]&&(B[h]=H(B[h],O,b)),c=function(){},c.prototype=p=B[h].call(u,n,y,t),0<h&&!y&&(c.prototype.constructor=function(){}),e=t=new c;y||(o.parent=p);if(F||k)c=function(g,d,f){g[d]=function(){var g=n.a.parent,d=n.a.__class__;n.a.parent=
o.parent;n.a.__class__=e.__class__;var a=f.apply(this===e||this==r?n.a:this,arguments);n.a.__class__=d;n.a.parent=g;return a};g[d].toString=function(){return f.toString()}},w(o,function(g,d){"function"===typeof d&&!y?c(e,g,d):(!y&&d&&"object"===typeof d&&("set"in d&&"function"===typeof d.set&&c(d,"set",d.set),"get"in d&&"function"===typeof d.get&&c(d,"get",d.get)),e[g]=d)}),n.a=k?n.a:e;y||(k&&s in e&&(e.constructor=e[s]),e.__class__=b);if(!k&&0!==l)if(I){if(J){if(a===u){a="StaticClass"+R+I++;var x=
[],z=0,A=["Class "+a];w(e,function(g,d){var f=g.indexOf("$")===0?1:g.indexOf("get ")===0?2:g.indexOf("set ")===0?3:g==="toString"?4:d&&typeof d==="object"&&(d.set||d.get)?5:0;if(f){var a=f===4?g:(z=1)&&f===1?g.substring(1):f===5?g:g.split(" ").pop();l[g]=d;f!==3&&A.push("Public "+(f===4?"Default ":"")+"Property Get ["+a+"]","Call VBCorrectVal("+(f===1?e.__get?'me.[__get].call(me,"'+a+'")':"":l[g]&&(f!==5||l[g].get)?"[(accessors)].["+g+"]"+(f===5?".get":"")+".call(me,[(accessors)].["+g+"])":"window.undefined")+
",["+a+"])","End Property");if(f&1||f===4)A.push("Public Property Let ["+a+"](val)",f=(f===1?e.__set?'Call me.[__set].call(me,"'+a+'",val)':"":f===4?"Set [(accessors)].["+g+"]=val":l[g]&&(f!==5||l[g].set)?"Call [(accessors)].["+g+"]"+(f===5?".set":"")+".call(me,val,[(accessors)].["+g+"])":"")+"\nEnd Property","Public Property Set ["+a+"](val)",f)}if(!f){if(x.length===50){A.push("Public ["+x.join("],[")+"]");x.length=0}x[x.length]=g}},1);z?(A.push((x.length?"Public ["+x.join("],[")+"]\n":"")+"Private [(accessors)]",
"Private Sub Class_Initialize()","Set [(accessors)]="+a+"FactoryJS()","End Sub","End Class","Function "+a+"Factory()","Set "+a+"Factory=New "+a,"End Function"),r[a+"FactoryJS"]=function(){return i},execVBScript(A.join("\n"))):(l=0,a=v);x=A=v}a&&(i={},w(l,function(g){i[g]=e[g]}),n.a=r[a+"Factory"](),w(e,function(g,a){if(!l.hasOwnProperty(g))if((!F||y)&&typeof a==="function"){n.a[g]=function(){return a.apply(this===e||this==r?n.a:this,arguments)};n.a[g].toString=function(){return a.toString()}}else n.a[g]=
a},1),e=n.a)}}else if(w(m?e:l,function(a,d){var f=a.indexOf("$")===0?1:a.indexOf("get ")===0?2:a.indexOf("set ")===0?3:d&&typeof d==="object"&&(d.set||d.get)?5:0;if(f){if(m){l[a]=d;i++}d=e[a];K.call(e,a)&&delete e[a];var b=f===1?a.substring(1):f===5?a:a.split(" ").pop(),c={enumerable:1,configurable:1,set:v,get:v};if(f!==3)c.get=function(){return((f===1?e.__get:f===5?d.get:d)||C(b,0)).call(this,f===1?b:d)};if(f&1)c.set=function(a){((f===1?e.__set:f===5?d.set:d)||C(b,1)).call(this,f===1?b:a,f===1?a:
d)};if(L){var h=Object.getOwnPropertyDescriptor(e,b);c.get=c.get||h&&h.get||C(b,0);c.set=c.set||h&&h.set||C(b,1);L(e,b,c)}else{f!==3&&e.__defineGetter__(b,c.get);f&1&&e.__defineSetter__(b,c.set)}}},m?1:0),m&&!(m=0)&&0===i)l=0;return new (k?function(){return e}:function(){s in e?e[s].apply(e,j):e.constructor&&e.constructor!==Object.prototype.constructor&&e.constructor.apply(e,j);return e})}var m=1,l={},i=0,a=u,s,c=arguments,h=c.length-1,q=c[h--]||{},k=!c[h]||c[h]instanceof z||"object"!==typeof c[h]?
{}:c[h--],t=k["extends"],G=k.compact,o=k["implements"],P=k.context,D=k.statics||(P||t||o||G!==E?{}:k),Q="function"===typeof c[h]?[c[h--]]:c[h]instanceof z?c[h--]:"string"===typeof c[h-1]&&(""+c[h--]).replace(/(^|\s)(extends|implements)(\s|$)/g,",").replace(/^[\s,]+|\s(?=\s)|[\s,]+$/g,"").replace(/\s*,\s*/g,",").split(",")||[],p="string"===typeof c[h]&&c[h--].split(/extends|implements|,/g)||[],O=c[h--]||P||j.defaultContext||r,M=(p.shift()||"").replace(/^\s+|\s+$/g,""),h=t instanceof z?t:t?[t]:[],o=
o instanceof z?o:o?[o]:[],p=(k=p.join(",").replace(/^[\s,]+|[\s,]+$/g,"").replace(/\s*,\s*/g,","))?k.split(","):[],B=p.concat.apply(p,Q.concat.apply(Q,h.concat.apply(h,o))),F=B.length;if("function"!==typeof q)var N=q,q=function(){return N};b.toString=function(){return"[class "+(M||"Object")+"]"};w(D,function(a,c){b[a]=c});if(b.className=M){k=O;c=(p=M.split(".")).shift();do 0===p.length?k[s=c]=b:(c in k||(k[c]={}),k=k[c]);while(c=p.shift())}return b}var z=r.Array,w,H,R=(new Date).getTime(),N=Object.prototype.toString,
L=Object.defineProperty,K=Object.prototype.hasOwnProperty,J=+((r.eval&&eval("/*@cc_on 1;@*/")&&/msie (\d+)/i.exec(navigator.userAgent)||[])[1]||0),I=(L||Object.prototype.__defineGetter__)&&(!J||8<J)?0:1,S=!{toString:1}.propertyIsEnumerable("toString"),q="toString,toLocaleString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,constructor".split(",");j.classByName=H=function(b,m,l){var i,a=b,s=m=m||j.defaultContext||j;if("string"===typeof a){for(a=a.split(".");(i=a.shift())&&(s=s[i]););a=
s}if(!a&&l&&!("function"===typeof j.autoload&&(a=j.autoload.call(m,b,l)||H(b,m))))throw Error("Parent class '"+b+"' not Initialized or Undefined");return a};j.ownEach=w=function(b,m,l){var i,a,j=q.length;if("[object Array]"===N.call(b)){j=b.length;for(i=0;i<j&&!(a=b[i],m.call(b[i],l?a:i,l?i:a)===u);i++);}else{for(i in b)if(a=b[i],(l&&a!==Object.prototype[i]||K.call(b,i))&&m.call(a,i,a)===u){j=u;break}if(j&&S)for(i=0;i<j&&!(a=b[q[i]],(K.call(b,q[i])||l&&a!=v&&a!==Object.prototype[q[i]])&&m.call(a,
q[i],a)===u);i++);}};j.instanceOf=function(b,j){for(;b&&b.__class__!=v;){if(b.__class__===j)return D;b=b.parent}return u};w(["classByName","ownEach","instanceOf"],function(b,m){j[m].toString=j.toString=function(){return"[object Function]"}});I&&!("execVBscript"in r)&&execScript("Function execVBscript(code) ExecuteGlobal(code) End Function\nFunction VBCorrectVal(o,r) If IsObject(o) Then Set r=o Else r=o End If End Function","VBScript");r.Class=j})(window,!0,!1,null);
